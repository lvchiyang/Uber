<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>优步司机端</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>优步司机端</h1>
            <div class="info-bar">
                <div class="time" id="current-time">加载中...</div>
                <div class="status">状态: <span id="driver-status">离线</span></div>
                <div class="connection">
                    <button id="check-connection-btn" class="connection-btn">检查连接</button>
                    <span id="connection-status"></span>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="map-container">
                <div class="map" id="map-grid">
                    <canvas id="map-canvas" width="600" height="600"></canvas>
                </div>
                <div class="map-controls">
                    <div class="control-group">
                        <span>当前位置: <span id="current-location">未知</span></span>
                    </div>
                    <div class="control-group">
                        <span>乘客上车位置: <span id="pickup-location">未知</span></span>
                    </div>
                    <div class="control-group">
                        <span>乘客目的地: <span id="destination-location">未知</span></span>
                    </div>
                    <div class="map-legend">
                        <h3>地图图例</h3>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color:#2196F3;"></span>
                            <span>蓝色 - 司机</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color:#4CAF50;"></span>
                            <span>绿色 - 乘客上车点</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color:#FF5722;"></span>
                            <span>红色 - 乘客目的地</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="side-panel">
                <div class="driver-info panel">
                    <h2>司机信息</h2>
                    <div class="info-content">
                        <p>姓名: <span id="driver-name">未登录</span></p>
                        <p>已完成订单: <span id="completed-orders">0</span> 单</p>
                        <p>总收入: <span id="total-earnings">0.00</span> 元</p>
                    </div>
                </div>
                
                <div class="login panel" id="login-panel">
                    <h2>司机登录</h2>
                    <div class="form-group">
                        <input type="text" id="name-input" placeholder="请输入姓名">
                        <button id="login-btn">登录</button>
                    </div>
                </div>
                <button id="offline-btn" class="control-btn danger" disabled>下线</button>
                
                <div class="order-info panel hidden" id="order-panel">
                    <h2>当前订单</h2>
                    <div class="info-content">
                        <p>订单ID: <span id="order-id">无</span></p>
                        <p>乘客上车点: <span id="pickup-location">无</span></p>
                        <p>乘客目的地: <span id="destination-location">无</span></p>
                        <p>订单状态: <span id="order-status">无</span></p>
                        <p>预计收入: <span id="order-price">0.00</span> 元</p>
                    </div>
                </div>
                
                <div class="panel" id="status-panel">
                    <h2>状态消息</h2>
                    <div class="status-messages" id="status-messages">
                        <!-- 状态消息将在这里显示 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/driver.js"></script>
</body>
</html> 